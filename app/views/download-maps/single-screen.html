{% extends "layouts/main.html" %}

{% set excludeBeforeContent = true %}

{% block pageTitle %}
  GOV.UK page template â€“ {{ serviceName }} â€“ GOV.UK Prototype Kit
{% endblock %}

{% block content %}

  <div class="govuk-grid-row">
  <div class="govuk-grid-column-one-quarter">
    <h1 class="govuk-heading-m">Download map packs</h1>
{% from "govuk/components/details/macro.njk" import govukDetails %}

{{ govukDetails({
  summaryText: "What is in a map pack?",
  text: "A map. ðŸ˜‚ duh.",  
  classes: "govuk-!-static-margin-bottom-0"
}) }}


    <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible govuk-!-static-margin-top-2 govuk-!-static-margin-bottom-2">
    <!-- <h1 class="govuk-heading-s">Map type</h1> -->
        {% from "govuk/components/radios/macro.njk" import govukRadios %}

        {{ govukRadios({
          formGroup: {
          classes: "govuk-!-static-margin-bottom-0"
          },
          classes: "govuk-radios--small",
          name: "changedName",
          fieldset: {
            legend: {
              text: "Map type",
              isPageHeading: true,
              classes: "govuk-fieldset__legend--s govuk-!-static-margin-bottom-1"
            }
          },
          items: [
            {
              value: "whole-holding",
              text: "Whole holding",
              checked: true
            },
            {
              value: "indi-parcels",
              text: "Individual land parcels"
            }
          ]
        }) }}

        {% from "govuk/components/button/macro.njk" import govukButton %}


    <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible govuk-!-static-margin-top-2 govuk-!-static-margin-bottom-2">
    
    <div id="land-parcels-section" class="scrollable-checkbox-container">
{% from "govuk/components/checkboxes/macro.njk" import govukCheckboxes %}

{{ govukCheckboxes({
          formGroup: {
          classes: "govuk-!-static-margin-bottom-0"
          },
  name: "landParcels",
  classes: "govuk-checkboxes--small",
  fieldset: {
    legend: {
      text: "Land parcels",
      isPageHeading: true,
      classes: "govuk-fieldset__legend--s govuk-!-static-margin-bottom-1"
    }
  },
  items: [
    {
      value: "TL5298 2595",
      text: "TL5298 2595"
    },
    {
      value: "TL5298 4289",
      text: "TL5298 4289"
    },
    {
      value: "TL5298 4575",
      text: "TL5298 4575"
    },
    {
      value: "TL5298 5767",
      text: "TL5298 5767"
    },    {
      value: "TL5298 2595",
      text: "TL5298 2595"
    },
    {
      value: "TL5298 4289",
      text: "TL5298 4289"
    },
    {
      value: "TL5298 4575",
      text: "TL5298 4575"
    },
    {
      value: "TL5298 5767",
      text: "TL5298 5767"
    },    {
      value: "TL5298 2595",
      text: "TL5298 2595"
    },
    {
      value: "TL5298 4289",
      text: "TL5298 4289"
    },
    {
      value: "TL5298 4575",
      text: "TL5298 4575"
    },
    {
      value: "TL5298 5767",
      text: "TL5298 5767"
    }
  ]
}) }}
    <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible  govuk-!-static-margin-top-2 govuk-!-static-margin-bottom-2">
    </div>

    <div class="scrollable-checkbox-container">
{% from "govuk/components/checkboxes/macro.njk" import govukCheckboxes %}

{{ govukCheckboxes({
          formGroup: {
          classes: "govuk-!-static-margin-bottom-0"
          },
  name: "additionalInfo",
  classes: "govuk-checkboxes--small",
  fieldset: {
    legend: {
      text: "Additional information",
      isPageHeading: true,
      classes: "govuk-fieldset__legend--s govuk-!-static-margin-bottom-1"
    }
  },
        items: [
          {
            value: "Live agreements with RPA",
            text: "Live agreements with RPA"
          },
          {
            value: "Common land",
            text: "Common land"
          },
          {
            value: "Hedgerows",
            text: "Hedgerows"
          },
          {
            value: "Land parcel area",
            text: "Land parcel area"
          },
          {
            value: "Land use",
            text: "Land use"
          },
          {
            value: "Less Favoured Areas (LFA)",
            text: "Less Favoured Areas (LFA)"
          },
          {
            value: "National boundaries",
            text: "National boundaries"
          },
          {
            value: "Regional boundaries",
            text: "Regional boundaries"
          }
        ]
}) }}
</div>    
<hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible  govuk-!-static-margin-top-2 govuk-!-static-margin-bottom-2">
    

  </div>
  <div class="govuk-grid-column-three-quarters" style="position: relative;">
            {{ govukButton({
          text: "Download map",
          classes: "hello-world"
        }) }}
    <iframe  class="govuk-!-margin-bottom-0" src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d5734071.448819131!2d-4.435451460821117!3d53.83619188322447!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sen!2suk!4v1758722248015!5m2!1sen!2suk" width="100%" height="800px" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
  </div>
</div>

{% endblock %}

{% block pageScripts %}
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const radios = document.querySelectorAll('input[name="changedName"]');
    const landParcelsSection = document.getElementById('land-parcels-section');
    
    function toggleLandParcels() {
      const selectedValue = document.querySelector('input[name="changedName"]:checked')?.value;
      
      // Show land parcels only when "indi-parcels" is selected
      if (selectedValue === 'indi-parcels') {
        landParcelsSection.style.display = 'block';
      } else {
        landParcelsSection.style.display = 'none';
      }
    }
    
    // Add event listeners to all radio buttons
    radios.forEach(radio => {
      radio.addEventListener('change', toggleLandParcels);
    });
    
    // Run on page load to set initial state
    toggleLandParcels();
  });
</script>

<style>
  .scrollable-checkbox-container {
    max-height: 300px;
    overflow-y: auto;
    overflow-x: visible;
    margin-left: -15px;
    padding-left: 15px;
    padding-right: 10px;
    margin-bottom: 20px;
    /* border-bottom: 1px solid red; */
  }
  
  /* Reduce checkbox label font size */
  .scrollable-checkbox-container .govuk-checkboxes__label {
    font-size: 1rem;
  }
  
  /* Reduce radio label font size */
  .govuk-radios__label {
    font-size: 1rem;
  }
  
  /* Reduce details component font size */
  .govuk-details__summary-text,
  .govuk-details__text {
    font-size: 1rem;
  }
  
  /* Styling for the scrollbar (optional, for better appearance) */
  .scrollable-checkbox-container::-webkit-scrollbar {
    width: 8px;
  }
  
  .scrollable-checkbox-container::-webkit-scrollbar-track {
    background: #f1f1f1;
  }
  
  .scrollable-checkbox-container::-webkit-scrollbar-thumb {
    background: #888;
    border-radius: 4px;
  }
  
  .scrollable-checkbox-container::-webkit-scrollbar-thumb:hover {
    background: #555;
  }
</style>
{% endblock %}